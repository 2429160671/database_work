{% extends "base.html" %}

{% block script %}
{% endblock %}

{% block left %}
<div class="container" style="width: 12%;float: left;background: white;margin-top: 60px;margin-left: 20px">
    <ul class="nav nav-pills nav-stacked navbar-left">
        <li onclick="wait()" role="presentation" class="active"><a href="#">推荐</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">python</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">人工智能</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">大数据</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">运维开发</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">pmysql</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">数据库</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">计算机网络</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">python</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">人工智能</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">大数据</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">运维开发</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">pmysql</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">数据库</a></li>
        <li onclick="wait()" role="presentation" ><a href="#">计算机网络</a></li>
    </ul>
</div>
{% endblock %}
{% block main %}
    {% if blogs %}
        <div style="float: left;width: 80%;background: white;margin-top: 60px;margin-left: 20px;">
            <ul class="nav nav-pills nav-stacked list-group">
                 {% if blogs %}
                    {% for blog in blogs %}
                        <li role="presentation" class="list-group-item" style="padding-bottom:30px;">
                            <div style="width: 500px">
                                <a href="{{ BASE_URL }}/blog/details?blog_id={{ blog.id }}">
                                    <h2 style="font-size:23px;font-weight: 600;color: deepskyblue;padding-left: 10px">
                                        {{ blog.title }}
                                    </h2>
                                </a>
                            </div>
                            <div style="padding-left: 10px">
                                 <div style="font-size: 15px;color: #e4b9b9;margin-bottom: 20px;">
                                    发布于{{ blog.pub_time|date:"m-d-Y H:i:s" }} &nbsp;&nbsp;阅读数&nbsp;{{ blog.viewed_number }}&nbsp;&nbsp;&nbsp;
                                </div>
                            </div>
                            <div class="tab-content" style="padding-left: 10px">
                                {{ blog.content }}
                            </div>
                            <div style="float: left;margin-top: 5px;padding-left: 10px">
                                发布者：
                                <a style="font-weight: 600;font-size: 18px" href="{{ BASE_URL }}/blog/index?username={{ blog.csdnUser.user.username }}">{{ blog.csdnUser.user.username }}&nbsp;&nbsp;</a>
                            </div>
                            <div class="author" style="float: right;padding-bottom: 10px">
                                <h5>
                                    阅读量：{{ blog.viewed_number }}&nbsp;&nbsp;
                                    点赞数：{{ blog.liked_number }}&nbsp;&nbsp;
                                    评论数: {{ blog.commented_number }}
                                </h5>
                            </div>
                        </li>
                    {% endfor %}
                 {% endif %}
            </ul>
            <nav aria-label="Page navigation" style="padding-left: 45%;clear: both;">
              <ul class="pagination pagination-lg">
                {% if blogs.has_previous %}
                     <li>
                        <a href="{{ BASE_URL }}?page={{ blogs.previous_page_number }}&search={{ search }}" aria-label="Previous">
                            <span aria-hidden="true">&laquo;</span>
                        </a>
                    </li>
                {% endif %}
                {% for num in page_range %}
                     <li  {% ifequal num page %}class="active"{% endifequal %}><a href="{{ BASE_URL }}?page={{ num }}&search={{ search }}">{{ num }}</a></li>
                {% endfor %}
                {% if blogs.has_next %}
                   <li>
                      <a href="{{ BASE_URL }}?page={{ blogs.next_page_number }}&search={{ search }}" aria-label="Next">
                        <span aria-hidden="true">&raquo;</span>
                      </a>
                   </li>
                {% endif %}
              </ul>
        </nav>
        </div>

        {% else %}
            <div style="padding-top: 50px;text-align: center;">
                    <h2 style="padding-left: 200px;font-size: 30px;color:deepskyblue;">
                        暂时没有搜索到博客呦
                    </h2>
            </div>
    {% endif %}

{% endblock %}
